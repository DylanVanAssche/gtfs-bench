#Q2C: Check the number of routes of a particular agency
#%AGENCYID = CRTM

PREFIX rr: <http://www.w3.org/ns/r2rml#>
PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX ex: <http://example.com/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX dc: <http://purl.org/dc/elements/1.1/>
PREFIX rev: <http://purl.org/stuff/rev#>
PREFIX gtfs: <http://vocab.gtfs.org/terms#>
PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>
PREFIX schema: <http://schema.org/>
PREFIX dct: <http://purl.org/dc/terms/>
PREFIX gtfsagency: <http://linkedgtfs.com/CITY/agency/>

SELECT (count(distinct ?route) as ?count) WHERE {
	gtfsagency:%AGENCYID a gtfs:Agency .
	gtfsagency:%AGENCYID foaf:page ?agencyPage .
	gtfsagency:%AGENCYID foaf:name ?agencyName .
	gtfsagency:%AGENCYID foaf:phone ?agencyPhone .

	OPTIONAL {
		?route a gtfs:Route .
		?route gtfs:agency gtfsagency:%AGENCYID .
	}
}
